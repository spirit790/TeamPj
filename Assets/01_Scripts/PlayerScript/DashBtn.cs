using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;
using UnityEngine.UI;

public class DashBtn : MonoBehaviour
{
    GameOptionManager gameOptionManager;
    [SerializeField]
    float sfxLength;

    public bool IsCheck;
 
    private void Start()
    {
        gameOptionManager = GameOptionManager.Instance();
    }

    /// <summary>
    /// Dash버튼은 오로지 check의 true false값만 확인 이 값을 가져다가 Player에서 상태변환
    /// </summary>
    public void PointerDown()
    {
        IsCheck = true;
        StartCoroutine(PlayeDashSfx());
    }
    
    /// <summary>
    /// Dash버튼에 EventTrigger를 달아서 PointerDown PointerUp의 각각 연결.
    /// </summary>
    public void PointerUp()
    {
        IsCheck = false;
    }
    IEnumerator PlayeDashSfx()
    {
        IsCheck = true;
        while (IsCheck)
        {            
            gameOptionManager.PlaySfxSound("Dash", gameOptionManager.sfxVol);
            yield return new WaitForSeconds(sfxLength);
        }
    }
    
}

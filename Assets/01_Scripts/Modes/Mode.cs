using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Pool;


public class Mode : MonoBehaviour
{
    [SerializeField]
    protected AIPooling aiPool;

    [SerializeField]
    protected List<GameObject> playerList = new List<GameObject>();

    int playerCount;
    int aiRatio;
    int aiCount { get { return playerCount * aiRatio; } }

    [Header("맵 사이즈")]
    public float mapWidth;
    public float mapHeight;

    protected Vector3 aiSpawnPos { get { return new Vector3(Random.Range(-mapWidth / 2, mapWidth / 2), 0, Random.Range(-mapHeight / 2, mapHeight / 2)); } }

    protected float timeLimit;
    protected bool isGameOver = false;

    /// <summary>
    /// Mode 초기화 및 변수 할당 함수
    /// </summary>
    /// <param name="playerCount">플레이어 숫자</param>
    /// <param name="aiRatio">플레이어와 AI 비율</param>
    /// <param name="timeLimit">제한 시간</param>
    public void Set(int playerCount,int aiRatio, float timeLimit)
    {
        this.playerCount = playerCount;
        this.aiRatio = aiRatio;
        this.timeLimit = timeLimit;
    }


    protected void CreateMap()
    {

    }

    protected void CreatePlayer()
    {
        for (int i = 0; i < playerCount; i++)
        {
        }
    }

    protected void CreateAI()
    {
        for (int i = 0; i < aiCount; i++)
        {
            aiPool.CreateAI(aiSpawnPos);
        }
    }
    public virtual void GameOver(){}
}
